â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘            ğŸ—ï¸  ARCHITECTURE ANNUAIRE MEDEF - VUE COMPLÃˆTE                     â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ“¦ STRUCTURE DU PROJET
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

annuairemedef/
â”‚
â”œâ”€ ğŸ³ DOCKER & ORCHESTRATION
â”‚  â”œâ”€â”€ Dockerfile.web              [Frontend Nginx/React]
â”‚  â”œâ”€â”€ Dockerfile.api              [API Node.js/Express]
â”‚  â”œâ”€â”€ docker-compose.yml          [Orchestration des services]
â”‚  â””â”€â”€ nginx.conf                  [Configuration Nginx]
â”‚
â”œâ”€ ğŸ“± FRONTEND (React + Vite)
â”‚  â”œâ”€â”€ src/
â”‚  â”‚  â”œâ”€â”€ components/              [Composants rÃ©utilisables]
â”‚  â”‚  â”‚  â”œâ”€â”€ Header.tsx
â”‚  â”‚  â”‚  â”œâ”€â”€ HeroSection.tsx
â”‚  â”‚  â”‚  â”œâ”€â”€ SearchFilters.tsx
â”‚  â”‚  â”‚  â”œâ”€â”€ CategoryCard.tsx
â”‚  â”‚  â”‚  â”œâ”€â”€ CompanyCard.tsx
â”‚  â”‚  â”‚  â””â”€â”€ CompanyDetail.tsx
â”‚  â”‚  â”œâ”€â”€ data/
â”‚  â”‚  â”‚  â””â”€â”€ companies.ts          [DonnÃ©es statiques]
â”‚  â”‚  â”œâ”€â”€ types/
â”‚  â”‚  â”‚  â””â”€â”€ index.ts              [Types TypeScript]
â”‚  â”‚  â”œâ”€â”€ App.tsx
â”‚  â”‚  â”œâ”€â”€ main.tsx
â”‚  â”‚  â”œâ”€â”€ index.css
â”‚  â”‚  â””â”€â”€ vite-env.d.ts
â”‚  â”œâ”€â”€ public/                     [Assets statiques]
â”‚  â”œâ”€â”€ index.html
â”‚  â”œâ”€â”€ package.json                [DÃ©pendances Frontend]
â”‚  â”œâ”€â”€ vite.config.ts              [Config Vite]
â”‚  â”œâ”€â”€ tailwind.config.js          [Config Tailwind CSS]
â”‚  â”œâ”€â”€ postcss.config.js           [Config PostCSS]
â”‚  â”œâ”€â”€ tsconfig.json               [Config TypeScript]
â”‚  â”œâ”€â”€ env-frontend.example        [Vars d'env exemple]
â”‚  â””â”€â”€ eslint.config.js            [Config ESLint]
â”‚
â”œâ”€ âš™ï¸  API (Node.js + Express)
â”‚  â”œâ”€â”€ api/
â”‚  â”‚  â”œâ”€â”€ server.js                [Serveur Express principal]
â”‚  â”‚  â”œâ”€â”€ package.json             [DÃ©pendances API]
â”‚  â”‚  â”œâ”€â”€ entrypoint.sh            [Script dÃ©marrage]
â”‚  â”‚  â”œâ”€â”€ env.example              [Vars d'env exemple]
â”‚  â”‚  â”œâ”€â”€ README.md                [Doc API]
â”‚  â”‚  â””â”€â”€ generate-api-key.js      [Utils clÃ© API]
â”‚  â”‚
â”‚  â””â”€â”€ ENDPOINTS:
â”‚     â”œâ”€â”€ GET  /api/companies              [Lister entreprises]
â”‚     â”œâ”€â”€ GET  /api/companies/:id          [DÃ©tail entreprise]
â”‚     â”œâ”€â”€ GET  /api/companies/category/:category [Par catÃ©gorie]
â”‚     â”œâ”€â”€ PUT  /api/companies/:id          [Mettre Ã  jour]
â”‚     â”œâ”€â”€ POST /api/companies              [Ajouter]
â”‚     â”œâ”€â”€ DELETE /api/companies/:id        [Supprimer]
â”‚     â”œâ”€â”€ GET  /api/catalogs               [Lister catalogues]
â”‚     â”œâ”€â”€ GET  /api/catalogs/:id           [DÃ©tail catalogue]
â”‚     â”œâ”€â”€ PUT  /api/catalogs/:id           [Mettre Ã  jour]
â”‚     â”œâ”€â”€ POST /api/catalogs               [Ajouter]
â”‚     â”œâ”€â”€ DELETE /api/catalogs/:id         [Supprimer]
â”‚     â”œâ”€â”€ POST /api/leads                  [Formulaire contact]
â”‚     â””â”€â”€ GET  /api/health                 [SantÃ© API]
â”‚
â”œâ”€ ğŸ“Š DONNÃ‰ES JSON
â”‚  â”œâ”€â”€ public/
â”‚  â”‚  â”œâ”€â”€ companies.json           [10 entreprises - 1.2 KB]
â”‚  â”‚  â”‚  â””â”€â”€ Structure:
â”‚  â”‚  â”‚     â€¢ id, name, category
â”‚  â”‚  â”‚     â€¢ description, services
â”‚  â”‚  â”‚     â€¢ contact (phone, email, website, address)
â”‚  â”‚  â”‚     â€¢ images, certifications
â”‚  â”‚  â”‚     â€¢ yearFounded, employees
â”‚  â”‚  â”‚     â€¢ specialties, siren, region
â”‚  â”‚  â”‚
â”‚  â”‚  â””â”€â”€ catalogs.json            [10 catalogues - 2.5 KB]
â”‚     â””â”€â”€ Structure:
â”‚        â€¢ id, companyId, companyName
â”‚        â€¢ title, description, category
â”‚        â€¢ services (name, description, price, duration)
â”‚        â€¢ fileUrl, downloadCount
â”‚        â€¢ lastUpdated, published
â”‚
â”œâ”€ ğŸ“ UPLOADS & FICHIERS
â”‚  â””â”€â”€ uploads/                    [Dossier fichiers uploadÃ©s]
â”‚     â””â”€â”€ .gitkeep
â”‚
â”œâ”€ ğŸ“š DOCUMENTATION
â”‚  â”œâ”€â”€ README.md                   [Vue d'ensemble]
â”‚  â”œâ”€â”€ DEPLOYMENT.md               [Guide dÃ©ploiement]
â”‚  â”œâ”€â”€ START_HERE.txt              [Guide dÃ©marrage]
â”‚  â”œâ”€â”€ RÃ‰SUMÃ‰_MODIFICATIONS.md     [Modifications apportÃ©es]
â”‚  â””â”€â”€ ARCHITECTURE.txt            [Ce fichier]
â”‚
â””â”€ ğŸ”§ UTILITAIRES & CONFIG
   â”œâ”€â”€ verify-setup.sh             [Script de vÃ©rification]
   â”œâ”€â”€ env-frontend.example        [Config frontend exemple]
   â”œâ”€â”€ .gitignore.docker           [Fichiers Ã  ignorer]
   â”œâ”€â”€ package-lock.json           [Lock dependencies]
   â””â”€â”€ tsconfig*.json              [Configs TypeScript]


ğŸ­ FLUX DE DÃ‰PLOIEMENT
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚  Internet / HTTPS   â”‚
                    â”‚  Let's Encrypt      â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                               â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚  Reverse Proxy      â”‚
                    â”‚  Nginx (external)   â”‚
                    â”‚  Network: proxy     â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                               â”‚
            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
            â”‚                  â”‚                  â”‚
      â”Œâ”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”   (Network: internal - bridge)
      â”‚  Frontend   â”‚   â”‚   API      â”‚
      â”‚  Port 80    â”‚   â”‚  Port 3001 â”‚
      â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤   â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
      â”‚ React+Vite  â”‚   â”‚ Express.js â”‚
      â”‚ Nginx       â”‚   â”‚ Node.js    â”‚
      â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
            â”‚                 â”‚
            â”‚    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
            â”‚    â”‚            â”‚            â”‚
            â”‚    â–¼            â–¼            â–¼
            â”‚  /companies.json /catalogs.json /uploads/


ğŸ” AUTHENTIFICATION & SÃ‰CURITÃ‰
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Public (lecture) :
  â€¢ GET /api/companies
  â€¢ GET /api/catalogs
  â€¢ GET /api/health

ProtÃ©gÃ© (modification) - Header: x-api-key
  â€¢ PUT /api/companies/:id
  â€¢ POST /api/companies
  â€¢ DELETE /api/companies/:id
  â€¢ PUT /api/catalogs/:id
  â€¢ POST /api/catalogs
  â€¢ DELETE /api/catalogs/:id

Public (leads) :
  â€¢ POST /api/leads â†’ N8N webhook (optionnel)


ğŸ“¦ CONTENEURS DOCKER
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Image Frontend (annuairemedef-web):
  â”œâ”€â”€ Base: nginx:alpine
  â”œâ”€â”€ Build: Node 18 + Vite
  â”œâ”€â”€ Port: 80
  â”œâ”€â”€ Volumes:
  â”‚  â”œâ”€â”€ public/companies.json â†’ /usr/share/nginx/html/companies.json
  â”‚  â””â”€â”€ uploads â†’ /usr/share/nginx/html/uploads
  â””â”€â”€ Network: proxy, internal

Image API (annuairemedef-api):
  â”œâ”€â”€ Base: node:18-alpine
  â”œâ”€â”€ Runtime: Express.js
  â”œâ”€â”€ Port: 3001
  â”œâ”€â”€ Volumes:
  â”‚  â”œâ”€â”€ api/ â†’ /app/api
  â”‚  â”œâ”€â”€ public â†’ /app/public
  â”‚  â””â”€â”€ uploads â†’ /app/uploads
  â”œâ”€â”€ Env: api/.env
  â””â”€â”€ Network: proxy, internal


ğŸ“‹ FICHIERS CLÃ‰S & TAILLES
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Configuration:
  â€¢ package.json (Frontend)          : ~810 B
  â€¢ api/package.json                 : ~590 B
  â€¢ docker-compose.yml               : ~650 B
  â€¢ Dockerfile.web                   : ~250 B
  â€¢ Dockerfile.api                   : ~350 B
  â€¢ nginx.conf                       : ~450 B

DonnÃ©es:
  â€¢ public/companies.json            : 1.2 KB (10 entreprises)
  â€¢ public/catalogs.json             : 2.5 KB (10 catalogues)

Documentation:
  â€¢ README.md                        : 6 KB
  â€¢ DEPLOYMENT.md                    : 7 KB
  â€¢ START_HERE.txt                   : 8 KB
  â€¢ api/README.md                    : 4 KB

API:
  â€¢ api/server.js                    : 8.5 KB (350+ lignes)
  â€¢ api/entrypoint.sh                : ~200 B

Utilitaires:
  â€¢ verify-setup.sh                  : 5 KB

Total: ~44 KB de code & config


ğŸš€ DÃ‰MARRAGE RAPIDE
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

1. PRÃ‰PARATION
   $ cp api/env.example api/.env
   $ nano api/.env  # Ã‰diter clÃ© API

2. AVEC DOCKER (RecommandÃ©)
   $ docker-compose up -d
   â†’ Frontend: http://localhost
   â†’ API: http://localhost:3001

3. SANS DOCKER
   Terminal 1:
   $ cd api && npm install && npm run dev
   
   Terminal 2:
   $ npm install && npm run dev


âœ… CARACTÃ‰RISTIQUES
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Frontend:
  âœ“ React 18.3 + TypeScript
  âœ“ Vite (build ultra-rapide)
  âœ“ Tailwind CSS (styling)
  âœ“ Lucide React (icÃ´nes)
  âœ“ Responsive design
  âœ“ SPA routing

API:
  âœ“ Express.js 4.18
  âœ“ CORS enabled
  âœ“ Authentication (API Key)
  âœ“ 14 endpoints RESTful
  âœ“ Gestion d'erreurs
  âœ“ Health check
  âœ“ Logs structurÃ©s

Docker:
  âœ“ Multi-stage build
  âœ“ Alpine images (petit)
  âœ“ RÃ©seaux sÃ©parÃ©s
  âœ“ Volumes persistants
  âœ“ Health checks
  âœ“ Environment variables

DonnÃ©es:
  âœ“ 10 entreprises de test
  âœ“ 10 catalogues de test
  âœ“ JSON valide
  âœ“ Structure complÃ¨te
  âœ“ PrÃªt pour Ã©tendue


ğŸ› ï¸  TECHNOLOGIES UTILISÃ‰ES
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Frontend:
  â€¢ React 18.3.1
  â€¢ TypeScript 5.5.3
  â€¢ Vite 5.4.2
  â€¢ Tailwind CSS 3.4.1
  â€¢ Lucide React 0.344.0
  â€¢ ESLint 9.9.1

Backend:
  â€¢ Node.js 18 (Alpine)
  â€¢ Express 4.18.2
  â€¢ CORS 2.8.5
  â€¢ dotenv 16.3.1
  â€¢ Nodemon 3.0.1

DevOps:
  â€¢ Docker (Alpine)
  â€¢ Nginx (Alpine)
  â€¢ Docker Compose

TypeScript:
  â€¢ Strict mode
  â€¢ ESLint + TypeScript rules


ğŸ“ SUPPORT & DOCUMENTATION
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Fichiers de dÃ©marrage:
  â€¢ START_HERE.txt         â†’ Configuration Ã©tape par Ã©tape
  â€¢ verify-setup.sh        â†’ VÃ©rifier installation

Documentation:
  â€¢ README.md              â†’ Vue d'ensemble
  â€¢ DEPLOYMENT.md          â†’ DÃ©ploiement production
  â€¢ api/README.md          â†’ API endpoints

Configuration:
  â€¢ env-frontend.example   â†’ Variables frontend
  â€¢ api/env.example        â†’ Variables API

Scripts:
  â€¢ verify-setup.sh        â†’ VÃ©rification structure


ğŸ¯ PROCHAINES Ã‰TAPES
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

1. Configuration initiale
2. Installation des dÃ©pendances
3. Lancement des services
4. Test des endpoints
5. IntÃ©gration n8n (optionnel)
6. DÃ©ploiement production


â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
Architecture crÃ©Ã©e le: Novembre 14, 2024
Statut: âœ… Complet et prÃªt pour utilisation
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
